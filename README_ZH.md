# AI Account Switch (ais)

[English](README.md) | ç®€ä½“ä¸­æ–‡

ä¸€ä¸ªè·¨å¹³å°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºç®¡ç†å’Œåˆ‡æ¢ä¸åŒé¡¹ç›®çš„ Claude/Codex è´¦æˆ·é…ç½®ã€‚

## ç‰¹æ€§

- **è·¨å¹³å°æ”¯æŒ**ï¼šåœ¨ macOSã€Linux å’Œ Windows ä¸Šæ— ç¼è¿è¡Œ
- **å¤šè´¦æˆ·ç®¡ç†**ï¼šå­˜å‚¨å’Œç®¡ç†å¤šä¸ª AI æœåŠ¡è´¦æˆ·
- **é¡¹ç›®çº§é…ç½®**ï¼šæ¯ä¸ªé¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸åŒçš„è´¦æˆ·
- **æ™ºèƒ½ç›®å½•æ£€æµ‹**ï¼šåœ¨é¡¹ç›®çš„ä»»ä½•å­ç›®å½•ä¸­éƒ½èƒ½å·¥ä½œï¼ˆç±»ä¼¼ gitï¼‰
- **Claude Code é›†æˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ `.claude/settings.local.json` é…ç½®æ–‡ä»¶
- **å®‰å…¨å­˜å‚¨**ï¼šè´¦æˆ·å‡­è¯ä»…å­˜å‚¨åœ¨æœ¬åœ°
- **äº¤äº’å¼å‘½ä»¤è¡Œ**ï¼šæ‰€æœ‰æ“ä½œéƒ½æœ‰æ˜“ç”¨çš„äº¤äº’å¼æç¤º
- **å¤šç§è´¦æˆ·ç±»å‹**ï¼šæ”¯æŒ Claudeã€Codex å’Œå…¶ä»– AI æœåŠ¡

## å®‰è£…

### æ–¹å¼ 1ï¼šå…¨å±€ npm å®‰è£…ï¼ˆæ¨èï¼‰

```bash
npm install -g ai-account-switch
```

å®‰è£…åï¼Œ`ais` å‘½ä»¤å°†åœ¨å…¨å±€å¯ç”¨ã€‚

**æ³¨æ„**ï¼šå¦‚æœå®‰è£…åæç¤º"å‘½ä»¤æœªæ‰¾åˆ°"ï¼Œå¯èƒ½éœ€è¦å°† npm çš„å…¨å±€ bin ç›®å½•æ·»åŠ åˆ° PATHï¼š

```bash
# æŸ¥çœ‹ npm å…¨å±€ bin è·¯å¾„
npm config get prefix

# æ·»åŠ åˆ° PATH (Linux/macOS)
export PATH="$PATH:$(npm config get prefix)/bin"

# Windows ä¸Šï¼Œæ·»åŠ åˆ°ç³»ç»Ÿ PATHï¼š%APPDATA%\npm
```

### æ–¹å¼ 2ï¼šä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶

ä» [Releases é¡µé¢](https://github.com/yourusername/ai-agent-user-swith/releases) ä¸‹è½½é€‚åˆä½ å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼š

**macOS:**
```bash
# ä¸‹è½½å¹¶å®‰è£…
curl -L https://github.com/yourusername/ai-agent-user-swith/releases/latest/download/ais-macos -o /usr/local/bin/ais
chmod +x /usr/local/bin/ais
```

**Linux:**
```bash
# ä¸‹è½½å¹¶å®‰è£…
curl -L https://github.com/yourusername/ai-agent-user-swith/releases/latest/download/ais-linux -o /usr/local/bin/ais
chmod +x /usr/local/bin/ais
```

**Windows:**
ä» releases é¡µé¢ä¸‹è½½ `ais-win.exe` å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ PATHã€‚

### æ–¹å¼ 3ï¼šä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/ai-agent-user-swith.git
cd ai-agent-user-swith

# å®‰è£…ä¾èµ–
npm install

# å…¨å±€é“¾æ¥ CLI å·¥å…·
npm link
```

**ç»´æŠ¤è€…è¯´æ˜**ï¼šè¯·æŸ¥çœ‹ [NPM_PUBLISH.md](NPM_PUBLISH.md) äº†è§£å‘å¸ƒè¯´æ˜ã€‚

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤æ¦‚è§ˆ

| å‘½ä»¤ | åˆ«å | æè¿° |
|------|------|------|
| `ais add [name]` | - | æ·»åŠ æ–°çš„è´¦æˆ·é…ç½® |
| `ais list` | `ls` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨è´¦æˆ· |
| `ais use [name]` | - | ä¸ºå½“å‰é¡¹ç›®è®¾ç½®è´¦æˆ· |
| `ais info` | - | æ˜¾ç¤ºå½“å‰é¡¹ç›®çš„è´¦æˆ·ä¿¡æ¯ |
| `ais current` | - | æ˜¾ç¤ºå½“å‰è´¦æˆ·åç§° |
| `ais remove [name]` | `rm` | åˆ é™¤è´¦æˆ· |
| `ais paths` | - | æ˜¾ç¤ºé…ç½®æ–‡ä»¶è·¯å¾„ |
| `ais doctor` | - | è¯Šæ–­ Claude Code é…ç½®é—®é¢˜ |
| `ais export <name>` | - | å¯¼å‡ºè´¦æˆ·ä¸º JSON æ ¼å¼ |
| `ais help` | - | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `ais --version` | - | æ˜¾ç¤ºç‰ˆæœ¬å· |

### å¿«é€Ÿå¼€å§‹

#### 1. æ·»åŠ è´¦æˆ·

äº¤äº’å¼æ·»åŠ ç¬¬ä¸€ä¸ªè´¦æˆ·ï¼š

```bash
ais add
```

æˆ–ç›´æ¥æŒ‡å®šåç§°ï¼š

```bash
ais add my-claude-account
```

ç³»ç»Ÿå°†æç¤ºä½ è¾“å…¥ï¼š
- è´¦æˆ·ç±»å‹ï¼ˆClaudeã€Codexã€å…¶ä»–ï¼‰
- API Key
- API URLï¼ˆå¯é€‰ï¼‰
- Organization IDï¼ˆå¯é€‰ï¼‰
- Emailï¼ˆå¯é€‰ï¼‰
- æè¿°ï¼ˆå¯é€‰ï¼‰
- è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œä¾‹å¦‚ `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1`ï¼‰

#### 2. åˆ—å‡ºæ‰€æœ‰è´¦æˆ·

æŸ¥çœ‹æ‰€æœ‰å·²é…ç½®çš„è´¦æˆ·ï¼š

```bash
ais list
# æˆ–
ais ls
```

å½“å‰é¡¹ç›®æ¿€æ´»çš„è´¦æˆ·å°†ç”¨ç»¿è‰²åœ†ç‚¹æ ‡è®°ã€‚

#### 3. ä¸ºå½“å‰é¡¹ç›®åˆ‡æ¢è´¦æˆ·

è®¾ç½®å½“å‰é¡¹ç›®ä½¿ç”¨çš„è´¦æˆ·ï¼š

```bash
ais use my-claude-account
```

æˆ–äº¤äº’å¼é€‰æ‹©ï¼š

```bash
ais use
```

**æ³¨æ„**ï¼šæ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆ `.claude/settings.local.json` æ–‡ä»¶ç”¨äº Claude Code CLI é›†æˆã€‚
ä½ å¯ä»¥åœ¨é¡¹ç›®çš„ä»»ä½•å­ç›®å½•ä¸­è¿è¡Œæ­¤å‘½ä»¤ - å®ƒä¼šè‡ªåŠ¨æ‰¾åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚

#### 4. æŸ¥çœ‹å½“å‰é¡¹ç›®ä¿¡æ¯

æŸ¥çœ‹å½“å‰é¡¹ç›®æ¿€æ´»çš„è´¦æˆ·ï¼š

```bash
ais info
```

æˆ–ä»…æ˜¾ç¤ºè´¦æˆ·åç§°ï¼š

```bash
ais current
```

**æ³¨æ„**ï¼šè¿™äº›å‘½ä»¤å¯ä»¥åœ¨é¡¹ç›®çš„ä»»ä½•å­ç›®å½•ä¸­ä½¿ç”¨ï¼Œç±»ä¼¼ git å‘½ä»¤çš„å·¥ä½œæ–¹å¼ã€‚

#### 5. åˆ é™¤è´¦æˆ·

åˆ é™¤ä¸å†éœ€è¦çš„è´¦æˆ·ï¼š

```bash
ais remove old-account
# æˆ–
ais rm
```

### é«˜çº§ç”¨æ³•

#### æ˜¾ç¤ºé…ç½®è·¯å¾„

æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ï¼š

```bash
ais paths
```

#### è¯Šæ–­é…ç½®é—®é¢˜

å¦‚æœ Claude Code ä½¿ç”¨äº†é”™è¯¯çš„è´¦æˆ·ï¼Œè¿è¡Œè¯Šæ–­ï¼š

```bash
ais doctor
```

æ­¤å‘½ä»¤ä¼šæ£€æŸ¥ï¼š
- å½“å‰ç›®å½•å’Œé¡¹ç›®æ ¹ç›®å½•
- AIS é¡¹ç›®é…ç½®
- Claude Code é…ç½®
- å…¨å±€ Claude é…ç½®
- æä¾›è§£å†³å»ºè®®

#### å¯¼å‡ºè´¦æˆ·é…ç½®

ä»¥ JSON æ ¼å¼å¯¼å‡ºè´¦æˆ·é…ç½®ï¼š

```bash
ais export my-claude-account
```

## é…ç½®

### å…¨å±€é…ç½®

æ‰€æœ‰è´¦æˆ·éƒ½å­˜å‚¨åœ¨ç”¨æˆ·ä¸»ç›®å½•çš„å…¨å±€é…ç½®ä¸­ï¼š

- **macOS/Linux**: `~/.ai-account-switch/config.json`
- **Windows**: `%USERPROFILE%\.ai-account-switch\config.json`

### é¡¹ç›®é…ç½®

æ¯ä¸ªé¡¹ç›®å°†å…¶æ´»åŠ¨è´¦æˆ·å¼•ç”¨å­˜å‚¨åœ¨ï¼š

```
./.ais-project-config
```

æ­¤æ–‡ä»¶åœ¨è¿è¡Œ `ais use` æ—¶è‡ªåŠ¨åˆ›å»ºï¼Œåº”æ·»åŠ åˆ° `.gitignore` ä¸­ã€‚

### Claude Code é›†æˆ

è¿è¡Œ `ais use` æ—¶ï¼Œå·¥å…·ä¼šè‡ªåŠ¨åˆ›å»º `.claude/settings.local.json`ï¼Œç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "your-api-key",
    "ANTHROPIC_BASE_URL": "your-api-url",
    "ANTHROPIC_ORGANIZATION_ID": "your-org-id",
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
  },
  "permissions": {
    "allow": [],
    "deny": [],
    "ask": []
  }
}
```

è¿™ç¡®ä¿ Claude Code CLI è‡ªåŠ¨ä½¿ç”¨é¡¹ç›®çš„æ­£ç¡®è´¦æˆ·ã€‚

#### è‡ªå®šä¹‰ç¯å¢ƒå˜é‡

åœ¨åˆ›å»ºè´¦æˆ·æ—¶å¯ä»¥æ·»åŠ è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ã€‚å¸¸è§ç¤ºä¾‹ï¼š

- `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1` - ç¦ç”¨éå¿…è¦ç½‘ç»œæµé‡
- `HTTP_PROXY=http://proxy.example.com:8080` - è®¾ç½® HTTP ä»£ç†
- `HTTPS_PROXY=https://proxy.example.com:8080` - è®¾ç½® HTTPS ä»£ç†
- å…¶ä»–ä½ éœ€è¦çš„ç¯å¢ƒå˜é‡

è¿™äº›è‡ªå®šä¹‰å˜é‡ä¼šè‡ªåŠ¨åŒ…å«åœ¨ç”Ÿæˆçš„ `.claude/settings.local.json` æ–‡ä»¶ä¸­ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šè®¾ç½®å¤šä¸ªè´¦æˆ·

```bash
# æ·»åŠ ä¸ªäºº Claude è´¦æˆ·
ais add personal-claude

# æ·»åŠ å·¥ä½œ Claude è´¦æˆ·
ais add work-claude

# æ·»åŠ  Codex è´¦æˆ·
ais add codex-dev

# åˆ—å‡ºæ‰€æœ‰è´¦æˆ·
ais list
```

### ç¤ºä¾‹ 2ï¼šä¸ºä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒè´¦æˆ·

```bash
# åœ¨ä¸ªäººé¡¹ç›®ä¸­
cd ~/my-personal-project
ais use personal-claude

# åœ¨å·¥ä½œé¡¹ç›®ä¸­
cd ~/work/company-project
ais use work-claude

# æ£€æŸ¥æ¿€æ´»çš„è´¦æˆ·
ais info
```

### ç¤ºä¾‹ 3ï¼šç®¡ç†è´¦æˆ·

```bash
# æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·
ais list

# æ£€æŸ¥å½“å‰è´¦æˆ·
ais current

# å¯¼å‡ºè´¦æˆ·é…ç½®
ais export personal-claude

# åˆ é™¤æ—§è´¦æˆ·
ais remove old-account

# æŸ¥çœ‹é…ç½®ä½ç½®
ais paths
```

### ç¤ºä¾‹ 4ï¼šè¯Šæ–­é—®é¢˜

```bash
# å¦‚æœ Claude Code ä½¿ç”¨äº†é”™è¯¯çš„è´¦æˆ·
cd ~/your-project
ais doctor

# æ ¹æ®è¯Šæ–­å»ºè®®æ“ä½œ
# ç„¶åé‡æ–°è®¾ç½®è´¦æˆ·
ais use correct-account
```

## å®‰å…¨æ³¨æ„äº‹é¡¹

- API å¯†é’¥ä»…å­˜å‚¨åœ¨æœ¬åœ°æœºå™¨ä¸Š
- å…¨å±€é…ç½®æ–‡ä»¶åŒ…å«æ•æ„Ÿå‡­è¯
- å§‹ç»ˆå°† `.ais-project-config` æ·»åŠ åˆ° `.gitignore`
- åˆ‡å‹¿å°†è´¦æˆ·å‡­è¯æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- æ˜¾ç¤º API å¯†é’¥æ—¶ä¼šè¿›è¡Œæ©ç å¤„ç†ï¼ˆä»…æ˜¾ç¤ºå‰ 4 ä½å’Œå 4 ä½å­—ç¬¦ï¼‰

## å¹³å°å…¼å®¹æ€§

| å¹³å° | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| macOS | âœ… å®Œå…¨æ”¯æŒ | å·²åœ¨ macOS 10.15+ ä¸Šæµ‹è¯• |
| Linux | âœ… å®Œå…¨æ”¯æŒ | å·²åœ¨ Ubuntu 20.04+ ä¸Šæµ‹è¯• |
| Windows | âœ… å®Œå…¨æ”¯æŒ | å·²åœ¨ Windows 10+ ä¸Šæµ‹è¯• |

## ç³»ç»Ÿè¦æ±‚

- Node.js >= 14.0.0
- npm >= 6.0.0

## é¡¹ç›®ç»“æ„

```
ai-agent-user-swith/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ ais.js              # å¯æ‰§è¡Œå…¥å£ç‚¹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js            # ä¸» CLI ç¨‹åº
â”‚   â”œâ”€â”€ commands.js         # å‘½ä»¤å®ç°
â”‚   â””â”€â”€ config.js           # é…ç½®ç®¡ç†å™¨
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ release.yml     # GitHub Actions è‡ªåŠ¨å‘å¸ƒ
â”œâ”€â”€ package.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .npmignore
â”œâ”€â”€ README.md               # è‹±æ–‡æ–‡æ¡£
â”œâ”€â”€ README_ZH.md            # ä¸­æ–‡æ–‡æ¡£
â”œâ”€â”€ NPM_PUBLISH.md          # npm å‘å¸ƒæŒ‡å—
â””â”€â”€ RELEASE.md              # å‘å¸ƒæŒ‡å—
```

## æ•…éšœæ’é™¤

### å‘½ä»¤æœªæ‰¾åˆ°ï¼šais

å¦‚æœå®‰è£…åå‡ºç°æ­¤é”™è¯¯ï¼Œç¡®ä¿å·²é“¾æ¥åŒ…ï¼š

```bash
npm link
```

### æƒé™è¢«æ‹’ç»

åœ¨ Unix ç³»ç»Ÿä¸Šï¼Œç¡®ä¿ bin æ–‡ä»¶å¯æ‰§è¡Œï¼š

```bash
chmod +x bin/ais.js
```

### æœªæ‰¾åˆ°è´¦æˆ·

ç¡®ä¿ä½ å·²æ·»åŠ è‡³å°‘ä¸€ä¸ªè´¦æˆ·ï¼š

```bash
ais add
```

### Claude Code ä½¿ç”¨äº†é”™è¯¯çš„è´¦æˆ·

å¦‚æœ Claude Code ä½¿ç”¨äº†éé¢„æœŸçš„è´¦æˆ·ï¼š

1. è¿è¡Œè¯Šæ–­ï¼š
   ```bash
   ais doctor
   ```

2. æ£€æŸ¥å…¨å±€ Claude é…ç½®æ˜¯å¦è¦†ç›–äº†é¡¹ç›®é…ç½®ï¼š
   - å¦‚æœ `~/.claude/settings.json` åŒ…å« `env.ANTHROPIC_AUTH_TOKEN`ï¼Œå¯èƒ½ä¼šå†²çª
   - **è§£å†³æ–¹æ¡ˆ**ï¼šä»å…¨å±€é…ç½®ä¸­åˆ é™¤ `env` éƒ¨åˆ†ï¼Œæˆ–ä»…ä¿ç•™ `permissions`

3. ç¡®ä¿ä»é¡¹ç›®ç›®å½•æˆ–å­ç›®å½•å¯åŠ¨ Claude Code

4. é‡æ–°ç”Ÿæˆé¡¹ç›®é…ç½®ï¼š
   ```bash
   ais use <ä½ çš„è´¦æˆ·å>
   ```

### åœ¨å­ç›®å½•ä¸­æœªæ‰¾åˆ°é¡¹ç›®é…ç½®

å·¥å…·åº”è¯¥åœ¨ä»»ä½•å­ç›®å½•ä¸­å·¥ä½œã€‚å¦‚æœä¸è¡Œï¼š

```bash
# ç¡®ä¿ä½ åœ¨å·²é…ç½®çš„é¡¹ç›®ä¸­
cd /path/to/your/project
ais use <account>

# ç„¶åä»å­ç›®å½•å°è¯•
cd src/
ais current  # åº”è¯¥æ˜¾ç¤ºä½ çš„è´¦æˆ·
```

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼ä½ å¯ä»¥ï¼š
- æŠ¥å‘Š bug
- å»ºè®®æ–°åŠŸèƒ½
- æäº¤ pull request

## è®¸å¯è¯

MIT License - æ¬¢è¿åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨æ­¤å·¥å…·ï¼

## æ›´æ–°æ—¥å¿—

### v1.2.0
- æ·»åŠ è´¦æˆ·è‡ªå®šä¹‰ç¯å¢ƒå˜é‡æ”¯æŒ
- æ·»åŠ  `ais doctor` å‘½ä»¤ç”¨äºé…ç½®è¯Šæ–­
- å¢å¼º `ais help` æ˜¾ç¤ºæ‰€æœ‰æ–°åŠŸèƒ½
- æ›´æ–°å®‰è£…æ–‡æ¡£ï¼ˆnpm ä½œä¸ºæ¨èå®‰è£…æ–¹å¼ï¼‰
- æ”¹è¿› PATH é…ç½®è¯´æ˜
- åœ¨ `ais list` å’Œ `ais info` ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ç¯å¢ƒå˜é‡

### v1.1.0
- æ·»åŠ æ™ºèƒ½ç›®å½•æ£€æµ‹ï¼ˆåœ¨ä»»ä½•å­ç›®å½•ä¸­å·¥ä½œï¼‰
- è‡ªåŠ¨ç”Ÿæˆ Claude Code `.claude/settings.local.json` é…ç½®
- åœ¨ `ais info` å‘½ä»¤ä¸­æ˜¾ç¤ºé¡¹ç›®æ ¹ç›®å½•
- æ”¹è¿›è·¨å¹³å°å…¼å®¹æ€§

### v1.0.0
- åˆå§‹ç‰ˆæœ¬
- åŸºæœ¬è´¦æˆ·ç®¡ç†ï¼ˆæ·»åŠ ã€åˆ—å‡ºã€åˆ é™¤ï¼‰
- é¡¹ç›®çº§è´¦æˆ·åˆ‡æ¢
- è·¨å¹³å°æ”¯æŒ
- äº¤äº’å¼ CLI æç¤º
- è´¦æˆ·å¯¼å‡ºåŠŸèƒ½

## æœªæ¥å¢å¼º

æœªæ¥ç‰ˆæœ¬çš„æ½œåœ¨åŠŸèƒ½ï¼š
- è´¦æˆ·éªŒè¯
- æ‰¹é‡å¯¼å…¥/å¯¼å‡º
- è´¦æˆ·æ¨¡æ¿
- ç¯å¢ƒå˜é‡å¯¼å‡º
- è´¦æˆ·å…±äº«ï¼ˆåŠ å¯†ï¼‰
- äº‘åŒæ­¥æ”¯æŒ
- è´¦æˆ·ä½¿ç”¨ç»Ÿè®¡

## æ”¯æŒ

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ç–‘é—®ï¼š
1. æŸ¥çœ‹æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹ç°æœ‰ issues
3. åˆ›å»ºæ–° issue å¹¶æä¾›è¯¦ç»†ä¿¡æ¯

---

**ç¥ä½ ä¸ AI åŠ©æ‰‹ç¼–ç æ„‰å¿«ï¼** ğŸ¤–
